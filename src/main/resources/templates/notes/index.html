<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Notes</title>
    <th:block th:include="partials/head :: head-links"></th:block>
</head>
<body>
<nav th:replace="partials/topnav :: topnav"></nav>
<div th:replace="partials/sidenav :: sidenav"></div>
<div class="main container">
    <div th:each="note : ${notes}" class="card">
        <h5 class="card-header date" th:text="${note.createdAt}"></h5>
        <div class="card-body">
            <h5 class="card-title" th:text="${note.title}"></h5>
            <p class="card-text" th:text="${note.body}"></p>
            <small class="card-text">Category: <span th:text="${note.category.getName()}"></span></small>
            <br>
            <br>
            <button class="btn btn-primary" type="button"><a href="#" style="text-decoration: none; color: white">Edit</a></button>
            <button class="btn btn-primary" type="button"><a href="#" style="text-decoration: none; color: white;">Delete</a></button>
        </div>
    </div>
</div>
<th:block th:include="partials/scripts :: scripts"></th:block>
</body>
<script>
    const dateStrings = document.getElementsByClassName("date");
    const formatDate = (dateString) => {
        console.log(dateString);
        let s =  new Date(dateString).toLocaleString();
        let datetime = s.split(",");
        let date = new Date(datetime[0]).toDateString();
        let time = datetime[1];
        console.log(date);
        console.log(time);
        return date + `<span class='float-right'>` + time + `</span>`;
    }
    for (let i = 0; i <= dateStrings.length; i++) {
        console.log(dateStrings[i].innerHTML = formatDate(dateStrings[i].innerHTML));
    }
</script>
</html>